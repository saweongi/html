<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="register.css">
    <!-- 비밀번호 8 ~ 14자리  -->
    <!-- localstorage에 key는 id로 value 는 pw로 저장 -->
    <script>
        function fn_save() {
            let id = document.getElementById("user-id");
            let pw = document.getElementById("user-pw");
            let pw2 = document.getElementById('user-pw2');
            let val = Object.keys(window.localStorage);
    
           
            console.log(val.indexOf(id.value))
            if((val.indexOf(id.value)==-1)){
            if ((id.value.length >= 4 && id.value.length <= 15 )) {
                if (pw.value.length >= 8) {
                    if (pw.value === pw2.value) {
                        localStorage.setItem(id.value, pw.value);
                        id.value = "";
                        pw.value = "";
                        alert("가입을 축하드립니다.")

                    }else{
                        alert("비밀번호와 비밀번호확인이 다릅니다.");
                    }

                } else {
                    alert("비밀번호를 8자리 이상 입력해주세요");
                }

            } else {
                alert("아이디를 4~15자리 사이로 입력해주세요");
            }
        }else{
            alert("아이디가 중복입니다.");
        }
        
    }

        


        
    



    </script>
</head>

<body>
    <div id="container">
        <h1>회원가입</h1>
        <form action="#" id="register">
            <ul>
                <li>
                    <label for="user-id" class="field">아이디</label>
                    <input type="text" id="user-id" placeholder="4~15자리 입력" required>
                </li>
                <li>
                    <label for="user-pw" class="field">비밀번호</label>
                    <input type="password" id="user-pw" placeholder="8자리 이상" required>
                </li>
                <li>
                    <label for="user-pw2" class="field">비밀번호 확인</label>
                    <input type="password" id="user-pw2" required>
                </li>
            </ul>
            <ul id="button">
                <li>
                    <button type="button" onclick="fn_save()">가입하기</button>
                </li>
                <li>
                    <button type="button" onclick="window.open('ex_login.html','_blank','width=500','height=300')">닫기</button>
                </li>
            </ul>
        </form>
    </div>

</body>

</html>